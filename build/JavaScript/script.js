"use strict";addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("#open-menu"),t=document.querySelector(".nav");e&&t&&(e.addEventListener("click",(()=>{t.classList.toggle("active")})),document.addEventListener("click",(s=>{const n=s.target;!t.classList.contains("active")||t.contains(n)||e.contains(n)||t.classList.remove("active")}))),t&&(window.addEventListener("scroll",(()=>{window.scrollY>100?t.classList.add("shrunk"):t.classList.remove("shrunk")})),t.addEventListener("mouseenter",(()=>{t.classList.remove("shrunk")})),t.addEventListener("mouseleave",(()=>{window.scrollY>100&&t.classList.add("shrunk")})));const s=document.querySelector("#projects__left"),n=document.querySelector("#projects__right"),a=document.querySelector(".projects__container");let i=1;s&&n&&a&&(s.addEventListener("click",(()=>{i>0&&(i--,a.style.transform=`translateX(${110*(1-i)}%)`)})),n.addEventListener("click",(()=>{i<2?(i++,a.style.transform=`translateX(${110*(1-i)}%)`):console.log("Ya estás en el último proyecto")})));const o=document.querySelector("#modal-overlay");if(o){o.innerHTML='\n        <section class="game__modal hidden">\n            <div class="game__modal__info">\n                <button class="button game__modal__button" id="close-modal">\n                    <img src="/images/svg/close.svg" alt="close icon" loading="lazy" />\n                </button>\n                <p>Moves: <span id="attempts">0</span></p>\n            </div>\n            <div class="cards__container" id="game"></div>\n            <button class="button play__again" id="play-again">Play again</button>\n            <div class="game__modal__message display-none">cards__message</div>\n        </section>\n        ';const c=o.querySelector(".game__modal"),l=o.querySelector("#close-modal"),r=o.querySelector("#play-again"),d=o.querySelector(".cards__container");function m(){null==c||c.classList.toggle("hidden"),null==c||c.classList.toggle("active"),null==o||o.classList.toggle("active")}const u=document.querySelector("#floating-game-button");u&&u.addEventListener("click",m),document.addEventListener("click",(e=>{const t=e.target;(e.target===o||l&&l.contains(t))&&m()}));const v={remainingAttempts:3,show(){const e=o.querySelector("#attempts");e&&(e.innerHTML=this.remainingAttempts.toString())},reset(){this.remainingAttempts=3,this.show()},lessOne(){this.remainingAttempts>0&&(this.remainingAttempts--,this.show())}};function g(){if(!d)return;d.innerHTML="";for(let e=0;e<4;e++)d.innerHTML+='\n            <div class="cards">\n                <div class="card__item">\n                    <div class="card__item-header">A</div>\n                    <div class="card__item-symbol">♠</div>\n                    <div class="card__item-footer">A</div>\n                </div>\n                <div class="poker-chip">\n                </div>\n            </div>\n            ';const e=d.querySelectorAll(".cards"),t=Math.floor(Math.random()*e.length);let s=!1;console.log("Carta ganadora (índice):",t),e.forEach(((e,n)=>{e.addEventListener("click",(()=>{if(v.remainingAttempts<=0&&(s=!0,console.log("No more attempts left")),!s&&!e.classList.contains("active"))if(n===t){e.classList.add("winner"),s=!0;const t=e.querySelector(".poker-chip");if(t&&!t.querySelector("img")){let e=document.createElement("img");e.loading="lazy",e.src="/images/webp/poker-chip.webp",e.alt="poker-chip",setTimeout((()=>{t.appendChild(e)}),200)}v.reset()}else e.classList.add("active"),setTimeout((()=>{e.classList.remove("active")}),1500),v.lessOne()}))}))}function _(){(null==d?void 0:d.querySelectorAll(".cards")).forEach((e=>{e.classList.remove("winner","active");const t=e.querySelector(".red-box");t&&t.remove()})),v.reset(),g()}null==r||r.addEventListener("click",_),v.show(),g()}}));